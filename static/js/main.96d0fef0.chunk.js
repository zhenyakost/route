(this.webpackJsonpshopping=this.webpackJsonpshopping||[]).push([[0],{30:function(t,e,n){},31:function(t,e,n){},32:function(t,e,n){},33:function(t,e,n){},58:function(t,e,n){"use strict";n.r(e),n.d(e,"getData",(function(){return u}));var i=n.p+"static/media/pizza.c644001e.png",a=n.p+"static/media/burger.cb91a412.png",c=n.p+"static/media/coca.57521b94.png",r=n.p+"static/media/salad.c5129a87.png",d=n.p+"static/media/water.52ba975d.png",o=n.p+"static/media/icecream.596499d5.png",s=n.p+"static/media/kebab.3c4858e8.png";function u(){return[{title:"Pizza",price:17.99,Image:i,id:1},{title:"Burger",price:15,Image:a,id:2},{title:"Coca",price:3.5,Image:c,id:3},{title:"Kebab",price:13.99,Image:s,id:4},{title:"Salad",price:2.5,Image:r,id:5},{title:"Bottle of water",price:.99,Image:d,id:6},{title:"Ice cream",price:2.99,Image:o,id:7}]}},59:function(t,e,n){"use strict";n.r(e);var i=n(2),a=n(21),c=n.n(a),r=(n(30),n(22)),d=n(3),o=n(5),s=(n(31),n(32),n(33),n(0));var u=function(t){var e=t.type,n=t.title,i=t.disable,a=t.onClick;return Object(s.jsx)("div",{className:"btn ".concat("add"===e?"add":"remove"===e&&"remove"),disabled:i,onClick:a,children:n})};var b=function(t){var e=t.food,n=t.onAdd,a=t.onRemove,c=Object(i.useState)(0),r=Object(o.a)(c,2),d=r[0],b=r[1],l=e.title,j=e.Image,p=e.price;return e.id,Object(s.jsxs)("div",{className:"card",children:[Object(s.jsx)("span",{className:"".concat(0!==d?"card__badge":"card__badge--hidden"),children:d}),Object(s.jsx)("div",{className:"image__container",children:Object(s.jsx)("img",{src:j,alt:l})}),Object(s.jsxs)("h4",{className:"card__title",children:[l," . ",Object(s.jsxs)("span",{className:"card__price",children:[p," \u20b4"]})]}),Object(s.jsxs)("div",{className:"btn-container",children:[Object(s.jsx)(u,{title:0!==d?"+":"ADD",type:0!==d?"add":"new",onClick:function(){b(d+1),n(e)}}),0!==d?Object(s.jsx)(u,{title:"-",type:"remove",onClick:function(){b(d-1),a(e)}}):""]})]})},l=(0,n(58).getData)(),j=window.Telegram.WebApp;n(35);var p=function(){var t=Object(i.useState)([]),e=Object(o.a)(t,2),n=e[0],a=e[1],c=Object(i.useState)(0),u=Object(o.a)(c,2),p=u[0],f=u[1],m=Object(i.useState)(j.initDataUnsafe),O=Object(o.a)(m,2),g=O[0];O[1],Object(i.useEffect)((function(){j.ready(),j.MainButton.onClick((function(){fetch("db.php",{body:{new_order:JSON.strinigify({user_id:g.user.id,goods:JSON.strinigify(n.map((function(t){return t.title}))),quant:JSON.strinigify(n.map((function(t){return t.quantity}))),amount:p})}}).then((function(t){return j.MainButton.text=JSON.stringify(t)})).catch((function(t){return j.MainButton.text=t}))}))})),Object(i.useEffect)((function(){f(n.reduce((function(t,e){return t+e.price*e.quantity}),0))}),[n]);var h=function(t){var e=n.find((function(e){return e.id===t.id}));a(e?n.map((function(n){return n.id===t.id?Object(d.a)(Object(d.a)({},e),{},{quantity:e.quantity+1}):n})):[].concat(Object(r.a)(n),[Object(d.a)(Object(d.a)({},t),{},{quantity:1})])),j.MainButton.text="\u041e\u043f\u043b\u0430\u0442\u0438\u0442\u0438",j.MainButton.button_color="#00B900",j.MainButton.show()},v=function(t){var e=n.find((function(e){return e.id===t.id}));1===e.quantity?a(n.filter((function(e){return e.id!==t.id}))):a(n.map((function(n){return n.id===t.id?Object(d.a)(Object(d.a)({},e),{},{quantity:e.quantity-1}):n}))),1===n.length&&j.MainButton.hide()};return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("div",{className:"cart__container",children:Object(s.jsxs)("span",{className:"",children:["Total Price: ",p.toFixed(2),"\u20b4"]})}),Object(s.jsx)("div",{className:"cards__container",children:l.map((function(t){return Object(s.jsx)(b,{food:t,onAdd:h,onRemove:v},t.id)}))})]})};c.a.createRoot(document.getElementById("root")).render(Object(s.jsx)(p,{}))}},[[59,1,2]]]);
//# sourceMappingURL=main.96d0fef0.chunk.js.map